<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <title>To-Do List</title>
  </head>
  <body>
    <div class="container">
      <div class="col align-self-center mx-auto p-5">
        <h1 class="text-center">To Do List</h1>
      </div>
      <div>
        <form action="/home/{{id}}" method="post">
          <div class="card mx-1 pb-1 pt-1">
            <div class="card-body">
              <h5 class="text-left">Criar Task</h5>
              <div class="row justify-content-center align-items-center">
                <div class="col align-self-center mx-auto pb-1 pt-1">
                  <input
                    class="form-control form-control-lg"
                    type="text"
                    name="user-task"
                    placeholder="Tarefa"
                  />
                </div>
              </div>
              <div class="row justify-content-center align-items-center">
                <div class="col align-self-center mx-auto pb-1 pt-1">
                  <label for="input-prazo"> Prazo </label>
                  <input
                    id="input-prazo"
                    class="form-control"
                    type="date"
                    name="dead-line"
                    placeholder="prazo"
                  />
                </div>
              </div>
              <div class="row justify-content-center align-items-center">
                <div class="col align-self-center mx-auto pb-1 pt-1">
                  <button
                    class="btn btn-outline-success"
                    type="submit"
                    value="cadastrar"
                    name="submit"
                  >
                    Enviar
                  </button>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
      <form action="/home/{{id}}" method="get">
        <div class="card mx-auto pb-1 pt-1">
          <div class="card-body">
            <h5 class="text-left">Ordenar Tasks</h5>
            <div class="row justify-content-center align-items-center">
              <div class="col align-self-center mx-auto pb-1 pt-1">
                <select class="form-control" name="sort">
                  <option value="data-criacao">data de criação</option>
                  <option value="prazo">prazo</option>
                </select>
                <label for="des">Maior data</label>
                <input type="radio" id="des" name="sort-type" value="des" checked>
                <label for="asc">Menor data</label>
                <input type="radio" id="asc" name="sort-type" value="asc">
              </div>
            </div>
            <div class="row justify-content-center align-items-center">
              <div class="col align-self-center mx-auto pb-1 pt-1">
                <button class="btn btn-outline-success" type="submit">
                  Ordenar
                </button>
              </div>
            </div>
          </div>
        </div>
      </form>
      <div class="card mx-auto pb-1 pt-1">
        <div class="card-body">
          <h5 class="text-center">Tasks</h5>
          <table class="table table-bordered">
            <thead class="thead-light">
              <tr>
                <th scope="col">task</th>
                <th scope="col">criação</th>
                <th scope="col">dead-line</th>
                <th scope="col">editar</th>
                <th scope="col">excluir</th>
              </tr>
            </thead>
            <tbody>
              {% for row in value %}
              <form action="/home/{{id}}" method="post">
                <tr>
                  <th scope="row">{{row[1]}}</th>
                  <td>{{row[3]}}</td>
                  <td>{{row[2]}}</td>
                  <td>
                    <button
                      class="btn btn-outline-info"
                      type="submit"
                      value="edit"
                      name="submit"
                    >
                      editar task
                    </button>
                  </td>
                  <td>
                    <button
                      class="btn btn-outline-danger"
                      type="submit"
                      value="delete"
                      name="submit"
                    >
                      excluir task
                    </button>
                  </td>
                  <input type="hidden" name="task-id" value="{{row[0]}}" />
                </tr>
              </form>

              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
